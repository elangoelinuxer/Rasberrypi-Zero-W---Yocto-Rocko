checkout all the layers  to rocko

Kernel Source location:
tmp/work-shared/raspberrypi0-wifi/kernel-source

Only Kernel Recompile:
bitbake -C compile virtual/kernel
or
bitbake  -C compile  linux-raspberrypi


menuconfig:
bitabke -c menuconfig linux-raspberrypi


and do package of sdcard image again
bitbake core-image-minimal -f

cleansstate
bitbake virtual/kernel -c cleansstate


deploy into image
 bitbake -c deploy linux-raspberrypi



use,
sudo dd bs=4M if=core-image-minimal-raspberrypi0-wifi-20200331170429.rootfs.rpi-sdimg  of=/dev/sdb conv=fsync


add i2c tool:
/meta/recipes-core/images/core-image-minimal.bb
CORE_IMAGE_EXTRA_INSTALL += "i2c-tools"

bitbake i2c-tools  //to cross check only the tool



add i2c-dev driver to get /dev/i2c-1     //I2C_CHAR_DRIVER 



Prebuild Refernce:

https://dantheiotman.com/2017/08/14/creating-a-surveillance-camera-using-a-pi-zero-w-motioneyeos/
https://github.com/ccrisan/motioneyeos/releases/tag/20200203



Document patching of kernel:

//-------------------------------------------------------

1.create patch from tmp/work-shared/raspberrypi0-wifi/kernel-source
2.git do dummy commit and
3.git format-patch -1 # Create the patch
4.create linux-raspberrypi_4.12.bbappend and add  following variables
5.FILESEXTRAPATHS_prepend := "${THISDIR}/linux-raspberrypi:"
6.SRC_URI += "file://0001-Removed-bcm2708-rpi-b-plus_dtb.patch"
7.create a folder linux-raspberrypi-4.12 and place the patch inside

or
remove dtb files from 
conf/machine/include/rpi-base.inc
KERNEL_DEVICETREE ?=



//-----------------------------------------------------



Document - upgrade kernel from 4.9 to 4.12
//----------------------------------------------------------






//----------------------------------------------------------







